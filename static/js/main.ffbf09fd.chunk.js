(this["webpackJsonpoctagons-no-1"]=this["webpackJsonpoctagons-no-1"]||[]).push([[0],{17:function(t,e,o){},30:function(t,e,o){"use strict";o.r(e);var i=o(1),n=o.n(i),s=o(9),r=o.n(s),a=(o(17),o(2));window.p5=a;o(19);var l=o(10),c=o(0);function d(){return Object(c.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(c.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(c.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var u=function(t){for(var e,o,i=t.length;0!==i;)o=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[o],t[o]=e;return t},h=o(11),f=o(12),g=function(){function t(e,o,i,n,s,r){Object(h.a)(this,t),this.p=e,this.x=o,this.y=i,this.radius=n,this.colour=s,this.whiteStroke=r,this.canDraw=!1,this.angleAdjuster=0}return Object(f.a)(t,[{key:"update",value:function(){this.canDraw&&this.angleAdjuster++}},{key:"draw",value:function(){if(this.canDraw){this.p.stroke(this.colour.strokeR,this.colour.strokeG,this.colour.strokeB),this.p.angleMode(this.p.DEGREES);for(var t=0;t<4;t++){var e=this.radius-this.radius/4*t;this.p.fill(this.colour.fillR,this.colour.fillG,this.colour.fillB,16*t),this.p.beginShape();for(var o=22.5;o<382.5;o+=45){var i=this.x+this.p.cos(o+this.angleAdjuster)*e,n=this.y+this.p.sin(o+this.angleAdjuster)*e;this.p.vertex(i,n)}this.p.endShape(this.p.CLOSE)}}}}]),t}(),v=o.p+"static/media/octagons-no-1.469cd261.ogg",k=o.p+"static/media/octagons-no-1.81c61a40.mid",w=function(){var t=Object(i.useRef)(),e=function(t){t.canvas=null,t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.audioLoaded=!1,t.player=null,t.PPQ=15360,t.tempo=104,t.barAsSeconds=Math.floor(60/t.tempo*4*1e5)/1e5,t.colours=[{fillR:255,fillG:255,fillB:0,strokeR:127,strokeG:127,strokeB:0},{fillR:127,fillG:255,fillB:0,strokeR:63,strokeG:127,strokeB:0},{fillR:255,fillG:127,fillB:0,strokeR:127,strokeG:63,strokeB:0},{fillR:255,fillG:0,fillB:255,strokeR:127,strokeG:0,strokeB:127},{fillR:127,fillG:0,fillB:255,strokeR:63,strokeG:0,strokeB:127},{fillR:255,fillG:0,fillB:127,strokeR:127,strokeG:0,strokeB:63},{fillR:0,fillG:255,fillB:255,strokeR:0,strokeG:127,strokeB:127},{fillR:0,fillG:127,fillB:255,strokeR:0,strokeG:63,strokeB:127},{fillR:0,fillG:255,fillB:127,strokeR:0,strokeG:127,strokeB:63}],t.loadMidi=function(){l.Midi.fromUrl(k).then((function(e){var o=e.tracks[2].notes.filter((function(t){return 43!==t.midi})),i=e.tracks[4].notes;t.scheduleCueSet(o,"executeCueSet1"),t.scheduleCueSet(i,"executeCueSet2"),t.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},t.preload=function(){t.song=t.loadSound(v,t.loadMidi),t.song.onended(t.logCredits)},t.scheduleCueSet=function(e,o){for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1,s=1,r=0;r<e.length;r++){var a=e[r],l=a.ticks,c=a.time;(l!==n||i)&&(a.currentCue=s,t.song.addCue(c,t[o],a),n=l,s++)}},t.melodicOctagons=[],t.setup=function(){t.canvas=t.createCanvas(t.canvasWidth,t.canvasHeight),t.startingCount=Math.floor(8*Math.random())+1,t.background(0,0,0,0),t.strokeWeight(t.width/2048),t.populateMelodicOctagons()},t.draw=function(){if(t.audioLoaded&&t.song.isPlaying())for(var e=0;e<t.melodicOctagons.length;e++){var o=t.melodicOctagons[e];o.draw(),o.update()}},t.executeCueSet1=function(e){var o=e.currentCue,i=6-e.ticks%61440/7680;if(o<105){o%8===0&&(t.startingCount=Math.floor(8*Math.random())+1,o>=78&&(t.clear(),t.background(0))),o>=104?t.strokeWeight(t.width/1024):o>=26&&t.strokeWeight(t.width/768);var n=o<=52?t.width/16:t.width/4;n=o<=104?n:t.width/8,t.drawOctagonGrid(i,n,o/2)}},t.executeCueSet2=function(e){if(e.currentCue>80){var o=t.melodicOctagons.filter((function(t){return!1===t.canDraw}));if((o=u(o)).length)o[0].canDraw=!0}},t.populateMelodicOctagons=function(){for(var e=t.width/8,o=e/2,i=0,n=0;n<=t.width+e;n+=e)for(var s=0;s<=t.height+e;s+=e){var r=t.colours[i];t.melodicOctagons.push(new g(t,n,s,o,r,t.whiteStroke)),t.whiteStroke=!t.whiteStroke,++i>8&&(i=0)}},t.whiteStroke=!1,t.drawOctagonGrid=function(e,o,i){e*=o/8;var n=o,s=t.startingCount,r=t.colours[s],a=i<64?i:64;a<32&&t.background(0,0,0,2*a);for(var l=0;l<=t.width+o;l+=o)for(var c=0;c<=t.height+o;c+=o)n=o,r=t.colours[s],t.fill(r.fillR,r.fillG,r.fillB,a),t.whiteStroke?t.stroke(255,255,255,127):t.stroke(r.strokeR,r.strokeG,r.strokeB),t.whiteStroke=!t.whiteStroke,t.octagon(l,c,n-e),++s>8&&(s=0)},t.octagon=function(e,o,i){i/=2,t.angleMode(t.RADIANS);var n=t.TWO_PI/8;t.beginShape();for(var s=t.TWO_PI/16;s<t.TWO_PI+t.TWO_PI/16;s+=n){var r=e+t.cos(s)*i,a=o+t.sin(s)*i;t.vertex(r,a)}t.endShape(t.CLOSE)},t.mousePressed=function(){t.audioLoaded&&(t.song.isPlaying()?t.song.pause():(parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&t.reset(),document.getElementById("play-icon").classList.add("fade-out"),t.canvas.addClass("fade-in"),t.song.play()))},t.creditsLogged=!1,t.logCredits=function(){!t.creditsLogged&&parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),t.song.stop())},t.reset=function(){},t.updateCanvasDimensions=function(){t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.canvas=t.resizeCanvas(t.canvasWidth,t.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){t.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){t.updateCanvasDimensions()}),!0)};return Object(i.useEffect)((function(){new a(e,t.current)}),[]),Object(c.jsx)("div",{ref:t,children:Object(c.jsx)(d,{})})};var p=function(){return Object(c.jsx)(w,{})};r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.ffbf09fd.chunk.js.map